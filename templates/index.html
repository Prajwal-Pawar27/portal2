{% extends 'base.html' %}
{% block title %}Home - Patient Manager{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-md-8">
    <div class="card shadow-sm">
      <div class="card-body">
        <h4 class="text-center mb-4">Welcome to the Patient Management System</h4>
        <p class="text-center"><strong>Consultants:</strong> Dr. Y.S. Pawar & Dr. Manjula</p>

        <!-- Dropdown for Visit Type with Better Styling -->
        <form action="{{ url_for('patient_action') }}" method="POST">
          <div class="form-group">
            <label for="visit" class="h5">Select Visit Type:</label>
            <select name="visit" id="visit" class="form-select form-select-lg" required>
              <option value="new_patient">New Patient</option>
              <option value="follow_up">Follow Up</option>
            </select>
          </div>

          <div class="form-group mt-2" id="uhid_field" style="display:none;">
            <label for="uhid" class="h5">Enter UHID:</label>
            <input type="text" name="uhid" class="form-control" placeholder="Enter UHID">
          </div>

          <button type="submit" class="btn btn-primary btn-lg mt-4 w-100">Proceed</button>
        </form>

        <script>
          // Show UHID field only for Follow Up
          document.getElementById('visit').addEventListener('change', function () {
            document.getElementById('uhid_field').style.display =
              this.value === 'follow_up' ? 'block' : 'none';
          });
        </script>

        <p class="mt-4 text-center">Or view the patient list:</p>
        <a href="{{ url_for('patient_info') }}" class="btn btn-secondary btn-lg w-100">
          <i class="bi bi-folder2-open"></i> View Patients
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
